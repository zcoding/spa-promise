!function(t){function n(t){var n=typeof t;return!t||"object"!==n&&"function"!==n||"function"!=typeof t.then?!1:t.then}function e(t,n){if(t._state!==o)if(t._state===r){for(var e=0;e<t._fulfillCallbacks.length;++e)t._fulfillCallbacks[e].call(null,n);t._fulfillCallbacks.splice(0)}else if(t._state===a){for(var e=0;e<t._rejectCallbacks.length;++e)t._rejectCallbacks[e].call(null,n);t._rejectCallbacks.splice(0)}}function l(t,e){if(t===e)u(t,new TypeError("The promise and its value refer to the same object."));else if(e&&e.constructor===i)e._state===o?e.then(function(n){c(t,n)},function(n){u(t,n)}):e._state===r?c(t,e._value):e._state===a&&u(t,e._reason);else{var f=!0;try{var s=n(e);s?s.call(e,function(n){f&&(l(t,n),f=!1)},function(n){f&&(u(t,n),f=!1)}):c(t,e)}catch(h){f&&(u(t,h),f=!1)}}}function c(t,n){t._state===o&&(t._state=r,t._value=n,setTimeout(function(){e(t,n)},0))}function u(t,n){t._state===o&&(t._state=a,t._reason=n,setTimeout(function(){e(t,n)},0))}function i(t){this._value=null,this._reason=null,this._state=o,this._fulfillCallbacks=[],this._rejectCallbacks=[];var n=this;t(function(t){l(n,t)},function(t){u(n,t)})}var o=0,r=1,a=2,f=function(t){return"[object Function]"===Object.prototype.toString.call(t)};i.prototype.then=function(t,n){var e=this,l=new i(function(l,c){e._fulfillCallbacks.push(function(n){if(f(t))try{var e=t(n);l(e)}catch(u){c(u)}else l(n)}),e._rejectCallbacks.push(function(t){if(f(n))try{n(t);l(afterOnFulfilled)}catch(e){c(e)}else c(t)})});return l},i.prototype["catch"]=function(t){return this.then(null,t)},i.all=function(t){function n(t){l=l.then(function(){return t}).then(function(t){e.push(t)})}for(var e=[],l=i.resolve(null),c=0;c<t.length;++c)n(t[c]);return l.then(function(){return e})},i.race=function(t){return new i(function(n,e){for(var l=!0,c=0,u=t.length;u>c;++c){var i=t[c];i.then(function(t){l&&(l=!1,n(t))},function(t){l&&(l=!1,e(t))})}})},i.resolve=function(t){return new i(function(n,e){n(t)})},i.reject=function(t){return new i(function(n,e){e(t)})},t.iPromise=i}(window);
//# sourceMappingURL=ipromise.min.js.map