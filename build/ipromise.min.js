!function(t){function n(t){var n=typeof t;return!t||"object"!==n&&"function"!==n||"function"!=typeof t.then?!1:t.then}function e(t){setTimeout(t,0)}function l(t,n){if(t._state!==r)if(t._state===a){for(var e=0;e<t._fulfillCallbacks.length;++e)t._fulfillCallbacks[e].call(null,n);t._fulfillCallbacks.splice(0)}else if(t._state===f){for(var e=0;e<t._rejectCallbacks.length;++e)t._rejectCallbacks[e].call(null,n);t._rejectCallbacks.splice(0)}}function c(t,e){if(t===e)i(t,new TypeError("The promise and its value refer to the same object."));else if(e&&e.constructor===o)e._state===r?e.then(function(n){u(t,n)},function(n){i(t,n)}):e._state===a?u(t,e._value):e._state===f&&i(t,e._reason);else{var l=!0;try{var s=n(e);s?s.call(e,function(n){l&&(c(t,n),l=!1)},function(n){l&&(i(t,n),l=!1)}):u(t,e)}catch(h){l&&(i(t,h),l=!1)}}}function u(t,n){t._state===r&&(t._state=a,t._value=n,e(function(){l(t,n)}))}function i(t,n){t._state===r&&(t._state=f,t._reason=n,e(function(){l(t,n)}))}function o(t){this._value=null,this._reason=null,this._state=r,this._fulfillCallbacks=[],this._rejectCallbacks=[];var n=this;t(function(t){c(n,t)},function(t){i(n,t)})}var r=0,a=1,f=2,s=function(t){return"[object Function]"===Object.prototype.toString.call(t)};o.prototype.then=function(t,n){var e=this,l=new o(function(l,c){e._fulfillCallbacks.push(function(n){if(s(t))try{var e=t(n);l(e)}catch(u){c(u)}else l(n)}),e._rejectCallbacks.push(function(t){if(s(n))try{n(t);l(afterOnFulfilled)}catch(e){c(e)}else c(t)})});return l},o.prototype["catch"]=function(t){return this.then(null,t)},o.all=function(t){function n(t){l=l.then(function(){return t}).then(function(t){e.push(t)})}for(var e=[],l=o.resolve(null),c=0;c<t.length;++c)n(t[c]);return l.then(function(){return e})},o.race=function(t){return new o(function(n,e){for(var l=!0,c=0,u=t.length;u>c;++c){var i=t[c];i.then(function(t){l&&(l=!1,n(t))},function(t){l&&(l=!1,e(t))})}})},o.resolve=function(t){return new o(function(n,e){n(t)})},o.reject=function(t){return new o(function(n,e){e(t)})},t.iPromise=o}(window);
//# sourceMappingURL=ipromise.min.js.map