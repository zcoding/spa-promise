!function(t){function n(t,n,e){l(n)&&t._FCallbacks.push(n),l(e)&&t._RCallbacks.push(e)}function e(t){var n=typeof t;return!t||"object"!==n&&"function"!==n||"function"!=typeof t.then?!1:t.then}function c(t,n){if(t===n)o(t,new TypeError("The promise and its value refer to the same object."));else if(n&&n.constructor===a)n._state===s?n.then(function(n){c(t,n)},function(n){o(t,n)}):n._state===r?u(t,n._value):n._state===f&&o(t,n._value);else{var i=!1;try{var l=e(n);l?l.call(n,function(n){i||c(t,n),i=!0},function(n){i||o(t,n),i=!0}):u(t,n)}catch(h){i||o(t,h)}}}function u(t,n){t._state===s&&(t._state=r,t._value=n,setTimeout(function(){for(var e=0,c=t._FCallbacks.length;c>e;++e)t._FCallbacks[e].call(null,n);t._FCallbacks.splice(0)},0))}function o(t,n){t._state===s&&(t._state=f,t._value=n,setTimeout(function(){for(var e=0,c=t._RCallbacks.length;c>e;++e)t._RCallbacks[e].call(null,n);t._RCallbacks.splice(0)},0))}function a(t){this._state=s,this._value=null,this._FCallbacks=[],this._RCallbacks=[];var n=this;try{t(function(t){c(n,t)},function(t){o(n,t)})}catch(e){o(n,e)}}var i=Object.prototype.toString,l=function(t){return"[object Function]"===i.call(t)},r=1,f=2,s=0,h=a.prototype;h.then=function(t,e){var c=this,u=new a(function(u,o){n(c,function(n){if(l(t))try{u(t(n))}catch(e){o(e)}else u(n)},function(t){if(l(e))try{u(e(t))}catch(n){o(n)}else o(t)})});return u},h["catch"]=function(t){return this.then(null,t)},a.resolve=function(t){return new a(function(n,e){n(t)})},a.reject=function(t){return new a(function(n,e){e(t)})},a.all=function(t){function n(t){c=c.then(function(){return t}).then(function(t){e.push(t)})}for(var e=[],c=a.resolve(null),u=0;u<t.length;++u)n(t[u]);return c.then(function(){return e})},a.race=function(t){return new a(function(n,e){for(var c=!0,u=0,o=t.length;o>u;++u){var a=t[u];a.then(function(t){c&&(c=!1,n(t))},function(t){c&&(c=!1,e(t))})}})},t.iPromise=a}(window);
//# sourceMappingURL=ipromise.min.js.map