var utils={};utils.isFunction=function(n){return"[object Function]"===Object.prototype.toString.call(n)},window.iPromise=function(){function n(n,t,i){return n._state===o?void t(n._value):n._state===r?void i(n._value):void setTimeout(function(){utils.isFunction(t)&&n._FCallbacks.push(t),utils.isFunction(i)&&n._RCallbacks.push(i)},0)}function t(n){var t=typeof n;return!n||"object"!==t&&"function"!==t||"function"!=typeof n.then?!1:n.then}function i(n,c){if(n===c)return void u(n,new TypeError('The promise and its value refer to the same object"'));try{var o=t(c);if(o)return void o.call(c,function(t){i(n,t)},function(t){u(n,t)});e(n,c)}catch(r){u(n,r)}}function e(n,t){n._state=o,n._value=t;for(var i=0,e=n._FCallbacks.length;e>i;++i)n._FCallbacks[i](t);n._FCallbacks.splice(0)}function u(n,t){n._state=r,n._value=t;for(var i=0,e=n._RCallbacks.length;e>i;++i)n._RCallbacks[i](t);n._RCallbacks.splice(0)}function c(n){this._state=l,this._value=null,this._FCallbacks=[],this._RCallbacks=[];var t=this;n(function(n){i(t,n)},function(n){u(t,n)})}var o=1,r=2,l=0,a=c.prototype;return a.then=function(t,i){var e=this;return new c(function(u,c){n(e,function(n){if(utils.isFunction(t))try{u(t(n))}catch(i){c(i)}else u(n)},function(n){if(utils.isFunction(i))try{u(i(n))}catch(t){c(t)}else c(n)})})},a["catch"]=function(n){return this.then(null,n)},c.resolve=function(n){return new c(function(t,i){t(n)})},c.reject=function(n){return new c(function(t,i){i(n)})},c.all=function(n){for(var t=[],i=c.resolve(null),e=0,u=n.length;u>e;++e){var o=n[e];i=i.then(function(){return o}).then(function(n){t.push(n)})}return i.then(function(){return t})},c.race=function(n){return new c(function(t,i){for(var e=!0,u=0,c=n.length;c>u;++u){var o=n[u];o.then(function(n){e&&(e=!1,t(n))},function(n){e&&(e=!1,i(n))})}})},c}();
//# sourceMappingURL=ipromise.min.map