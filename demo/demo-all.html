<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>Promise/A+</title>
</head>
<body>
  <h1>测试iPromise.all</h1>
  <p>这个例子将使用iPromise API</p>
  <script src="/ipromise.min.js"></script>
  <script>
  var do1 = function(value) {
    return new iPromise(function(resolve, reject) {
      setTimeout(function() {
        resolve(value);
      }, 1000);
    });
  };
  var do2 = function(value) {
    return new iPromise(function(resolve, reject) {
      setTimeout(function() {
        resolve(value);
      }, 2000);
    });
  }
  iPromise.all([do1(11), do2(12)])
    .then(function(values) {
      for (var i = 0, len = values.length; i < len; ++i) {
        console.log(values[i]);
      }
    })
    .catch(function(error) {
      console.log(error);
    });
  </script>
</body>
</html>
